🎼 PyPiano - 乐谱编写与功能指南
1. 项目来源与说明
本项目来源于A4foolU的原始Python钢琴项目，延续采用双轨文本谱格式，实现了钢琴全键位的覆盖、不同强度动态变化、踏板的延音、柔音、断音功能、多个按键并行播放，并改进了乐谱播放方式。

基本结构：

每首歌由两个文件组成：xx_speed_.notes (主旋律) 和 xx_speed_.accompaniments (伴奏)， 编写完成后放入notes文件夹中。

文件名中的 speed 代表步长（ms/step），例如 260 代表每行 260毫秒。

两个文件的行数必须严格对应（时间轴对齐）。
2.语法详解

音名 (Note Names) 使用国际标准音名，支持升降号。例如：C4 (中央C), F#3 (升F3), Bb2 (降B2)。

力度 (Velocity) 在音符后添加 @ 和数字 (1-16) 来指定触键力度。

例： C4@6 (轻柔), G5@14 (爆发)。

连奏与休止 (Legato & Rest)

0: 保持 (Hold)。表示这一拍不弹新音，而是按住上一拍的音符不放，实现连奏效果。

_: 休止 (Rest)。表示手指离开琴键，制音器落下，声音截止。

踏板系统 (Pedals)

延音踏板: P+ (踩下) 开启全局共振；P- (松开) 切断余音。

柔音踏板: U+ (踩下) 模拟 Una Corda 机制，音色变暗且音量衰减；U- (松开) 恢复正常。

复合指令 (Compound Commands) 使用 | 符号连接同一时刻发生的多个动作。

经典用法（换踏）：P-|P+|C3@10 —— 意思是先抬起踏板切断上一小节的混响，再瞬间踩下踏板并弹奏 C3
3. 谱例展示：《纸短情长》高潮片段 (Example)
// --- Chorus (副歌爆发) ---
// 我真的好想你 (C5-E5 上行，力度 @12-14)
C5@12
C5@12
D5@13
E5@14
E5@14
D5@13
E5@14
0         // 连奏保持
///主旋律轨道
// --- Chorus (副歌爆发) ---
// C Major (宽广的十度音域伴奏)
// 技巧：P+|C3@10 表示踩下踏板同时弹奏根音，力度适中
P+|C3@10
0         // 空拍让根音延音
G3@9
E4@9
0
G3@9
0
0
///伴奏轨道
4.使用办法
下载后，请搭建resourece文件夹，内部分为notes与resoureces子文件夹，其中notes文件夹存放乐谱 resoureces文件夹存放自己的钢琴音色文件，本人采用的是salamander grand piano，并搭建python3.12/3.13及对应pygame环境
